@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Fonts */
@import url('https://fonts.googleapis.com/css2?family=Yuji+Syuku&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

/* Define 'Gang of Three' font if not globally available */
@font-face {
  font-family: 'Gang of Three';
  src: url('https://fonts.cdnfonts.com/s/28113/GANG OF THREE.woff') format('woff');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}


:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;
  
    /* Forge Theme Colors */
  --forge-primary: #111827; /* gray-900 */
  --forge-secondary: #1f2937; /* gray-800 */
  --forge-border: #374151; /* gray-700 */
  --forge-text: #d1d5db; /* gray-300 */
  --forge-accent: #f59e0b; /* amber-500 */
  --forge-accent-glow: rgba(245, 158, 11, 0.4);

  /* Alchemist Theme Colors */
  --alchemist-primary: #0b0f19;
  --alchemist-secondary: #1a1b26;
  --alchemist-border: #3c3d5e;
  --alchemist-text: #c0c5ce;
  --alchemist-accent: #8b5cf6; /* violet-500 */
  --alchemist-accent-glow: rgba(139, 92, 246, 0.4);
  --alchemy-gold: #fde047; /* yellow-300 */
  --crystal-blue: #7dd3fc; /* sky-300 */
  --potion-purple: #a78bfa; /* violet-400 */
  --deep-purple: #5b21b6; /* violet-800 */
  --magic-pink: #f472b6; /* pink-400 */
  --elixir-green: #bef264; /* lime-300 */
  --void-black: #171717;
}

/* Base body styles with background */
body {
  font-family: 'Inter', sans-serif;
  color: var(--forge-text);
  width: 100%;
  height: 100%;
  background: radial-gradient(
        circle farthest-side at 0% 50%,
        #282828 23.5%,
        rgba(255, 170, 0, 0) 0
      )
      21px 30px,
    radial-gradient(
        circle farthest-side at 0% 50%,
        #2c3539 24%,
        rgba(240, 166, 17, 0) 0
      )
      19px 30px,
    linear-gradient(
        #282828 14%,
        rgba(240, 166, 17, 0) 0,
        rgba(240, 166, 17, 0) 85%,
        #282828 0
      )
      0 0,
    linear-gradient(
        150deg,
        #282828 24%,
        #2c3539 0,
        #2c3539 26%,
        rgba(240, 166, 17, 0) 0,
        rgba(240, 166, 17, 0) 74%,
        #2c3539 0,
        #2c3539 76%,
        #282828 0
      )
      0 0,
    linear-gradient(
        30deg,
        #282828 24%,
        #2c3539 0,
        #2c3539 26%,
        rgba(240, 166, 17, 0) 0,
        rgba(240, 166, 17, 0) 74%,
        #2c3539 0,
        #2c3539 76%,
        #282828 0
      )
      0 0,
    linear-gradient(90deg, #2c3539 2%, #282828 0, #282828 98%, #2c3539 0%) 0 0
      #282828;
  background-size: 40px 60px;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 8px;
}
::-webkit-scrollbar-track {
    background: #1f2937;
}
::-webkit-scrollbar-thumb {
    background-color: #4b5563;
    border-radius: 4px;
    border: 2px solid #1f2937;
}
::-webkit-scrollbar-thumb:hover {
    background-color: #6b7280;
}

/* Animations */
@keyframes fade-in-up {
    from {
        opacity: 0;
        transform: translateY(1rem);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.animate-fade-in-up {
    animation: fade-in-up 0.5s ease-out forwards;
}

/* Layout for Forge tab */
.forge-layout {
  height: 100%;
  display: flex;
  flex-direction: row;
  gap: 16px;
  align-items: stretch;
  box-sizing: border-box;
}

.forge-column-filters {
  flex: 1 1 50%;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 12px;
  box-sizing: border-box;
  overflow: hidden; /* Hide outer scrollbar */
}
.forge-column-results {
  flex: 1 1 50%;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 16px;
  box-sizing: border-box;
  overflow-y: auto; /* Enable scrolling for the whole column */
}


/* Layout for Alchemy tab */
.alquimia-layout {
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 18px;
  box-sizing: border-box;
  color: #eee;
}

.alquimia-top {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  flex-wrap: wrap;
}

.alquimia-layout .block {
  background: rgba(0,0,0,0.45);
  border: 1px solid rgba(255,255,255,0.04);
  border-radius: 10px;
  padding: 12px;
  box-sizing: border-box;
  min-width: 260px;
  flex: 1 1 320px;
}

.alquimia-layout .prompt-editor { flex: 2 1 520px; min-width: 360px; }

.alquimia-layout .control { 
  width: 100%;
  box-sizing: border-box;
  min-height: 44px;
  padding: 10px;
  border-radius: 8px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.06);
  color: inherit;
}
.alquimia-layout .actions { display:flex; justify-content:flex-end; }

.alquimia-layout .results-row {
  display: flex;
  gap: 12px;
  margin-top: 6px;
  flex-grow: 1;
  min-height: 0;
}
.alquimia-layout .result-card {
  flex: 1 1 50%;
  background: rgba(10,10,10,0.6);
  border-radius: 10px;
  overflow: hidden; /* important */
  box-shadow: 0 6px 20px rgba(0,0,0,0.6);
  display: flex;
  flex-direction: column; /* allow internal scrolling */
}

/* Z-index fix for dropdowns */
.select-menu {
  position: absolute;
  z-index: 9999 !important;
  max-height: 46vh;
  overflow: auto;
}
.forge-layout .dropdown, .forge-layout .popover, .forge-layout .select-menu,
.alquimia-layout .dropdown, .alquimia-layout .popover, .alquimia-layout .select-menu {
  position: absolute;
  z-index: 10000 !important;
}

/* Mobile responsive layouts */
@media (max-width: 900px) {
  .forge-layout { flex-direction: column; height: auto; }
  .forge-column-filters, .forge-column-results {
     width: 100%;
     flex: 0 0 auto;
     max-height: 60vh;
     overflow: auto;
  }

  .alquimia-top { flex-direction: column; }
  .alquimia-layout .prompt-editor { min-width: auto; }
  .alquimia-layout .results-row { flex-direction: column; }
  .alquimia-layout .result-card { width: 100%; min-height: 180px; max-height: 40vh; }
}

/* Component-specific Styles */
.forge-panel, .results-panel {
  background: rgba(17, 24, 39, 0.6); /* gray-900 with opacity */
  backdrop-filter: blur(10px);
  border: 1px solid rgba(55, 65, 81, 0.5); /* gray-700 with opacity */
  border-radius: 0.75rem;
}
.inner-scroll {
  overflow-y: auto;
}

/* Header Styles */
.main-header {
  border-bottom: 1px solid var(--forge-border);
  position: relative;
}
.header-logo-title {
  color: #fff;
}
.header-logo-title h1 {
  font-size: 2rem;
  text-shadow: 0 0 10px var(--forge-accent-glow), 0 0 20px var(--forge-accent-glow);
  background: linear-gradient(90deg, #fef08a, var(--forge-accent));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-fill-color: transparent;
}
.header-logo-title .subtitle {
  font-size: 0.8rem;
  color: #9ca3af;
  margin-top: -4px;
  letter-spacing: 1px;
}
.header-button-active {
  background-color: var(--forge-accent);
  color: white;
  box-shadow: 0 0 15px var(--forge-accent-glow);
}
.header-glow {
  position: absolute;
  bottom: -1px;
  left: 0;
  right: 0;
  height: 2px;
  background: var(--forge-accent);
  filter: blur(4px);
  opacity: 0.8;
}

/* Result Card Styles */
.result-card {
  border: 1px solid var(--forge-border);
  transition: all 0.2s ease-in-out;
}
.result-card.selected-card, .result-card:hover {
  border-color: var(--forge-accent);
  box-shadow: 0 0 15px var(--forge-accent-glow);
  transform: translateY(-2px);
}

/* Forge Button */
.forge-anvil-button {
  background: linear-gradient(145deg, #1e3a8a, #3b0764);
  border: 1px solid #4f46e5;
  box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
}

/* Alchemy Button */
.alchemy-button {
  background: linear-gradient(145deg, var(--alchemist-accent), #4c1d95);
  border: 1px solid var(--alchemist-accent);
  box-shadow: 0 4px 15px var(--alchemist-accent-glow);
}
.prompt-card.model-midjourney {
  border-left: 4px solid var(--alchemy-gold);
}
.prompt-card.model-gpt {
  border-left: 4px solid var(--crystal-blue);
}

/* Share Button */
.button-content {
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #6e8efb, #a777e3);
  color: white;
  padding: 10px 20px;
  border-radius: 50px;
  border: none;
  cursor: pointer;
  transition:
    background 0.4s cubic-bezier(0.25, 0.8, 0.25, 1),
    transform 0.3s ease,
    box-shadow 0.4s ease;
  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
  position: relative;
  z-index: 10;
  overflow: hidden;
  font-size: 1rem;
}

.button-content::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(
    135deg,
    rgba(110, 142, 251, 0.4),
    rgba(167, 119, 227, 0.4)
  );
  filter: blur(15px);
  opacity: 0;
  transition: opacity 0.5s ease;
  z-index: -1;
}

.button-content:hover::before { opacity: 1; }
.button-content:hover {
  background: linear-gradient(135deg, #a777e3, #6e8efb);
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
  transform: translateY(-2px) scale(1.02);
}
.button-content:active {
  transform: translateY(0) scale(0.98);
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.15);
}

.button-content .text {
  font-size: 1rem;
  font-weight: 600;
  margin-right: 8px;
  white-space: nowrap;
  transition: letter-spacing 0.3s ease;
}
.button-content:hover .text { letter-spacing: 0.5px; }

.share-icon {
  fill: white;
  transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.button-content:hover .share-icon {
  transform: rotate(360deg) scale(1.1);
}

/* Reset Button Styles */
.reset-button-flex {
  display: flex;
  align-items: center;
  gap: 5px;
}
.reset-button-outer {
  padding: 8px 16px;
  border: none;
  font-size: 0.875rem;
  cursor: pointer;
  position: relative;
  background: linear-gradient(90deg, #5bfcc4, #f593e4, #71a4f0);
  border-radius: 12px;
  color: #fff;
  transition: all 0.3s ease;
  box-shadow:
    inset 0px 0px 5px #ffffffa9,
    inset 0px 25px 20px #000,
    0px 3px 8px #000000cc;
  text-shadow: 1px 1px 1px #000;
}
.reset-button-outer::before {
  content: "";
  position: absolute;
  inset: 0;
  margin: auto;
  border-radius: 12px;
  filter: blur(0);
  z-index: -1;
  box-shadow: none;
  background: conic-gradient(
    #00000000 80deg,
    #40baf7,
    #f34ad7,
    #5bfcc4,
    #00000000 280deg
  );
  transition: all 0.3s ease;
}
.reset-button-outer:hover::before {
  filter: blur(12px);
}
.reset-button-outer:active::before {
  filter: blur(4px);
  transform: translateY(1px);
}
.reset-button-outer:active {
  box-shadow:
    inset 0px 0px 5px #ffffffa9,
    inset 0px 25px 20px #000;
  margin-top: 2px;
}
